<template name="main">
<h2>{{_ "title" "readme"}}</h2>

<p>{{_ "synopsis" "readme"}}</p>

<p>
{{_ "example01" "readme"}}
<pre>{{_ 'sandbox' 'sandbox'}}</pre>
{{_ "example02" "readme"}} <a href="{{pathFor "translation"}}">{{_ "admin" "nav"}}</a> {{_ "example03" "readme"}} {{_ "example04" "readme"}}
</p>

<p>{{{_ "description01" "readme"}}}</p>
<ul>
<li>{{{_ "description02" "readme"}}}</li>
<li>{{{_ "description03" "readme"}}}</li>
<li>{{{_ "description04" "readme"}}}</li>
</ul>

<h1>{{_ "installation" "readme"}}</h1>

<p>{{_ "installation01" "readme"}}</p>
<p><code>$ mrt add translation</code></p>

<p>{{_ "installation02" "readme"}}</p>
<p><code>
Meteor.subscribe(Translation.publish, domains, Translation.currentLang());
</code></p>
<p>{{{_ "installation03" "readme"}}}</p>

<h1>{{_ "usage" "readme"}}</h1>

<h2>{{_ "basicusage" "readme"}}</h2>

<p>{{{_ "usage01" "readme"}}}</p>

<p>{{_ "usage02" "readme"}}
{{_ "usage03" "readme"}}
<code><br/>
Deps.autorun(function(){<br/>
&nbsp;&nbsp;&nbsp;&nbsp;myVar = Translation._('siteName', 'main');<br/>
});
</code></p>

<h2>{{_ "parametricTranslations" "readme"}}</h2>

<p>{{_ "parametricTranslations01" "readme"}}
<code>&#123;{_ "key" "domain" arg1="Arg 1" arg2="Arg 2" }}</code>.
{{{_ "parametricTranslations02" "readme"}}}
{{_ "parametricTranslations03" "readme"}}
<code><br/>
Template.myTemplate.reactiveVar = function () {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;return "Value" ;
};
</code></p>

<p>{{{_ "parametricTranslations04" "readme"}}}
{{{_ "parametricTranslations05" "readme"}}}
</p>

<p>{{{_ "parametricTranslations06" "readme"}}}
<code><br/>
Translation._(key, domain, {arg1: ..., arg2:...});
</code></p>

<h1>{{_ "language" "readme"}}</h1>

<p>{{_ "language01" "readme"}}</p>

<p>{{_ "language02" "readme"}}
<code><br/>
Translation.currentLang()
</code></p>

<p>{{_ "language03" "readme"}}
<code><br/>
Translation.currentLang(lang);
</code></p>

<h1>{{_ "initial" "readme"}}</h1>

<p>{{_ "initial01" "readme"}}
<code><br/>
Translation.addTranslation(domains, key, lang, translation)
</code>
{{_ "initial02" "readme"}}</p>

<p>{{_ "initial03" "readme"}}
<code><br/>
Meteor.isServer &amp;&amp; Meteor.startup(function () {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Translation.addTranslation(['main', 'navigation'], 'siteName', ['en', 'en-US'], 'My awesome site');<br/>
});
</code></p>

<h1>{{_ "modification" "readme"}}</h1>

<p>{{_ "modification01" "readme"}} {{{_ "modification02" "readme"}}}</p>

<p>{{_ "modification03" "readme"}}
<code><br/>
Translation.collection.update({domain: domain, key: key, lang:lang}, {$set: {value: value}});
</code></p>

<p>{{{_ "modification04" "readme"}}}</p>

<h2>{{_ "security" "readme"}}</h2>

<p>{{_ "security01" "readme"}} {{_ "security02" "readme"}}</p>

<p>{{_ "security03" "readme"}}
<code><br/>
Translation.collection.allow({<br/>
&nbsp;&nbsp;&nbsp;&nbsp;insert: function(userId, doc) {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return userId!=null;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;update: function(userId, doc, fieldNames, modifier) {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return userId!=null;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;remove: function(userId, doc) {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return userId!=null;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;publish: function(userId, domains, lang, key) {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return userId!=null;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
});<br/>
</code>
{{_ "security04" "readme"}}
<code>Translation.collection.canPublish(this.userId, domains, lang, key)</code></p>

<p>{{_ "security05" "readme"}}
<code><br/>
    return Translation.collection.canPublish(this.userId, domains, lang, key) &amp;&amp; Translation.collection.find({ ... }) || [];
</code></p>

<h1>{{_ "configuration" "readme"}}</h1>

<p>{{_ "configuration01" "readme"}} <code>Meteor.settings</code>.</p>

<p>{{_ "configuration02" "readme"}}</p>

<ul>
<li><code>Meteor.settings.public.translation.publish</code>: {{_ "configuration03" "readme"}}</li>
<li><code>Meteor.settings.public.translation.uiHelper</code>: {{{_ "configuration04" "readme"}}}</li>
<li><code>Meteor.settings.public.translation.session</code>: {{_ "configuration05" "readme"}}</li>
<li><code>Meteor.settings.public.translation.mongoCollection</code>: {{_ "configuration06" "readme"}}</li>
<li><code>Meteor.settings.public.translation.debug</code>: {{_ "configuration06" "readme"}}</li>
</ul>

<p>{{_ "configuration08" "readme"}}
<code><br/>
{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"public": {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"translation" : {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"publish" : "intl",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"uiHelper": "_",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"session": "lang",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"mongoCollection": "intl",<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"debug": true<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
}<br/>
</code></p>
</template>
